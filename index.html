<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Redirect by ID</title>

    <style>
        body {
            color-scheme: dark;
            background-color: black;
            color: white;
        }
        input {
            font-size: 3rem;
            width: -webkit-fill-available;
            margin: 2rem;
            padding: 1rem;
            border-radius: 1rem;
            border: none;
            background-color: transparent;
            transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
        }
        .mostrat {
            background-color: #240073;
            box-shadow: 0 0 10px 10px #240073;
            color: magenta;
            outline: none;
        }
        .mostrat.correcte {
            background-color: #005200;
            box-shadow: 0 0 20px 20px #005200;
            color: #a0ff00;
        }
    </style>
</head>
<body>
    <input id="input" oninput="redirigir(this.value)" onfocus="mostrar()">


    <!-- Jordi Mas Parramon - xordimas@gmail.com - https://github.com/jordimas96 -->

    <script src="./links.js"></script>

    <script>
        

        // Obtenir valor parÃ metre id de la URL
        // const queryString = window.location.search;
        // const urlParams = new URLSearchParams(queryString);
        // const id = urlParams.get('id');
        var id = location.search.split("?")[1];
        
        redirigir(id);

        function redirigir(id) {
            if (!id) return;

            id = id.replaceAll("%20", " ");

            let stringABuscar = id
                .toLowerCase()
                .replaceAll("-", " ")
                .trim();
            
            let url = redireccions[stringABuscar];

            if (url) {
                document.getElementById("input").classList.add("correcte");
                setTimeout(() => {
                    window.location.replace(url);
                }, 200);
            }
            else document.getElementById("input").value = id;
            
        }
        function mostrar() {
            document.getElementById("input").classList.add("mostrat");
        }
    </script>
</body>
</html>
